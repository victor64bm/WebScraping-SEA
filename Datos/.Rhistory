#Carga de librerias
library(rvest) # Get data from web
library(httr)  # Also useful to get data on web
library(stringr) # Hand   le of strings
library(dplyr) # Handle data and use of pipelines
library(xlsx) # Read and write excel files
library(sf) # Read and handle kmz
Tabla_general <- read.csv('Tabla general.csv')
#Fijar directorio de trabajo
setwd("/home/vcaquilpan/Documentos/R Scripts/SEA/v2/WebScraping-SEA/Datos")
#Fijar directorio de trabajo
setwd("/home/vcaquilpan/Documentos/R Scripts/SEA/v2/WebScraping-SEA/Datos")
Tabla_general <- read.csv('Tabla general.csv')
Tabla_general <- read.csv('Tabla General.csv')
Tabla_general <- read_csv('Tabla General.csv')
library(readr)
Tabla_general <- read_csv('Tabla General.csv')
Tabla_general <- read_csv2('Tabla General.csv')
View(Tabla_general)
Tabla_general$Calificado[Tabla_general$Fecha_Calificado == "character(0)"] <- ""
Tabla_general <- read_csv2('Tabla General.csv')
Tabla_general$Fecha_Calificado[Tabla_general$Fecha_Calificado == "character(0)"] <- ""
View(Tabla_general)
#Solo dejamos las columnas que nos interesan
Tabla_general <- Tabla_general %>% select(-c(No,url_mapa))
View(Tabla_general)
#Ordenamos los nombres de las columnas
Tabla_general %>% rename('Name','Nombre')
#Ordenamos los nombres de las columnas
Tabla_general %>% rename('Name' ='Nombre')
#Ordenamos los nombres de las columnas
Tabla_general %>% rename('Name' = 'Nombre',
'Type' = 'Tipo')
#Ordenamos los nombres de las columnas
Tabla_general %>% rename('name' = 'Nombre',
'type' = 'Tipo',
'typology' = 'Tipología',
'invesment' = 'Inversión(MMU$)',
'entry date' = '`FechaPresentaciónFecha deIngreso(*)`')
#Ordenamos los nombres de las columnas
Tabla_general %>% rename('name' = 'Nombre',
'type' = 'Tipo',
'typology' = 'Tipología',
'invesment' = 'Inversión(MMU$)',
'entry date' = 'FechaPresentaciónFecha deIngreso(*)')
'entry date' = `FechaPresentaciónFecha deIngreso(*)`
#Ordenamos los nombres de las columnas
Tabla_general %>% rename('name' = 'Nombre',
'type' = 'Tipo',
'typology' = 'Tipología',
'invesment' = 'Inversión(MMU$)',
'entry date' = `FechaPresentaciónFecha deIngreso(*)`)
View(Tabla_general)
View(Tabla_general)
Tabla_general$Calificado <- NULL
#Ordenamos los nombres de las columnas
Tabla_general %>% rename('name' = Nombre,
'type' = Tipo,
'typology' = Tipología,
'invesment' = `Inversión(MMU$)`,
'entry date' = `FechaPresentaciónFecha deIngreso(*)`,
'state' = Estado,
'main url' = url,
'id project' = id,
'longitude' = Longitud,
'latitude' = Latitud,
'n_docs' = n_documentos,
'n_addendum' = n_adendas,
'n_participatory' = n_participacion,
'type_descr' = Tipo_proyecto,
'description' = Descripcion,
'calification_date' = Fecha_Calificado)
#Ordenamos los nombres de las columnas
Tabla_general %>% rename('name' = Nombre,
'type' = Tipo,
'region' = Región,
'owner' = Titular
'typology' = Tipología,
'invesment' = `Inversión(MMU$)`,
'entry date' = `FechaPresentaciónFecha deIngreso(*)`,
'state' = Estado,
'main url' = url,
'id project' = id,
'longitude' = Longitud,
'latitude' = Latitud,
'n_docs' = n_documentos,
'n_addendum' = n_adendas,
'n_participatory' = n_participacion,
'type_descr' = Tipo_proyecto,
'description' = Descripcion,
'calification_date' = Fecha_Calificado)
#Ordenamos los nombres de las columnas
Tabla_general %>% rename('name' = Nombre,
'type' = Tipo,
'region' = Región,
'owner' = Titular,
'typology' = Tipología,
'invesment' = `Inversión(MMU$)`,
'entry date' = `FechaPresentaciónFecha deIngreso(*)`,
'state' = Estado,
'main url' = url,
'id project' = id,
'longitude' = Longitud,
'latitude' = Latitud,
'n_docs' = n_documentos,
'n_addendum' = n_adendas,
'n_participatory' = n_participacion,
'type_descr' = Tipo_proyecto,
'description' = Descripcion,
'calification_date' = Fecha_Calificado)
#Ordenamos los nombres de las columnas
Tabla_general %>% rename('name' = Nombre,
'type' = Tipo,
'region' = Región,
'owner' = Titular,
'typology' = Tipología,
'investment' = `Inversión(MMU$)`,
'entry date' = `FechaPresentaciónFecha deIngreso(*)`,
'state' = Estado,
'main url' = url,
'id project' = id,
'longitude' = Longitud,
'latitude' = Latitud,
'n_docs' = n_documentos,
'n_addendum' = n_adendas,
'n_participatory' = n_participacion,
'typology_des' = Tipo_proyecto,
'description' = Descripcion,
'calification_date' = Fecha_Calificado) %>%
select(name,type,region,typology,typology_des,investment,entry_date,state,qualification_date,id_project,latitude,longitude,n_docs,n_addendum,description,main_url)
#Ordenamos los nombres de las columnas
Tabla_general %>% rename('name' = Nombre,
'type' = Tipo,
'region' = Región,
'owner' = Titular,
'typology' = Tipología,
'investment' = `Inversión(MMU$)`,
'entry_date' = `FechaPresentaciónFecha deIngreso(*)`,
'state' = Estado,
'main_url' = url,
'id project' = id,
'longitude' = Longitud,
'latitude' = Latitud,
'n_docs' = n_documentos,
'n_addendum' = n_adendas,
'n_participatory' = n_participacion,
'typology_des' = Tipo_proyecto,
'description' = Descripcion,
'calification_date' = Fecha_Calificado) %>%
select(name,type,region,typology,typology_des,investment,entry_date,state,qualification_date,id_project,latitude,longitude,n_docs,n_addendum,description,main_url)
#Ordenamos los nombres de las columnas
Tabla_general %>% rename('name' = Nombre,
'type' = Tipo,
'region' = Región,
'owner' = Titular,
'typology' = Tipología,
'investment' = `Inversión(MMU$)`,
'entry_date' = `FechaPresentaciónFecha deIngreso(*)`,
'state' = Estado,
'main_url' = url,
'id project' = id,
'longitude' = Longitud,
'latitude' = Latitud,
'n_docs' = n_documentos,
'n_addendum' = n_adendas,
'n_participatory' = n_participacion,
'typology_des' = Tipo_proyecto,
'description' = Descripcion,
'qualification_date' = Fecha_Calificado) %>%
select(name,type,region,typology,typology_des,investment,entry_date,state,qualification_date,id_project,latitude,longitude,n_docs,n_addendum,description,main_url)
#Ordenamos los nombres de las columnas
Tabla_general %>% rename('name' = Nombre,
'type' = Tipo,
'region' = Región,
'owner' = Titular,
'typology' = Tipología,
'investment' = `Inversión(MMU$)`,
'entry_date' = `FechaPresentaciónFecha deIngreso(*)`,
'state' = Estado,
'main_url' = url,
'id_project' = id,
'longitude' = Longitud,
'latitude' = Latitud,
'n_docs' = n_documentos,
'n_addendum' = n_adendas,
'n_participatory' = n_participacion,
'typology_des' = Tipo_proyecto,
'description' = Descripcion,
'qualification_date' = Fecha_Calificado) %>%
select(name,type,region,typology,typology_des,investment,entry_date,state,qualification_date,id_project,latitude,longitude,n_docs,n_addendum,description,main_url)
#Ordenamos los nombres de las columnas
Tabla_general <- Tabla_general %>% rename('name' = Nombre,
'type' = Tipo,
'region' = Región,
'owner' = Titular,
'typology' = Tipología,
'investment' = `Inversión(MMU$)`,
'entry_date' = `FechaPresentaciónFecha deIngreso(*)`,
'state' = Estado,
'main_url' = url,
'id_project' = id,
'longitude' = Longitud,
'latitude' = Latitud,
'n_docs' = n_documentos,
'n_addendum' = n_adendas,
'n_participatory' = n_participacion,
'typology_des' = Tipo_proyecto,
'description' = Descripcion,
'qualification_date' = Fecha_Calificado) %>%
select(name,type,region,typology,typology_des,investment,entry_date,state,qualification_date,id_project,latitude,longitude,n_docs,n_addendum,description,main_url)
Tabla_general <- read_csv2('Tabla General.csv')
#Solo dejamos las columnas que nos interesan
Tabla_general <- Tabla_general %>% select(-c(No,url_mapa))
View(Tabla_general)
Tabla_general$Calificado <- NULL
#Ordenamos los nombres de las columnas
Tabla_general <- Tabla_general %>% rename('name' = Nombre,
'type' = Tipo,
'region' = Región,
'owner' = Titular,
'typology' = Tipología,
'investment' = `Inversión(MMU$)`,
'entry_date' = `FechaPresentaciónFecha deIngreso(*)`,
'state' = Estado,
'main_url' = url,
'id_project' = id,
'longitude' = Longitud,
'latitude' = Latitud,
'n_docs' = n_documentos,
'n_addendum' = n_adendas,
'n_participatory' = n_participacion,
'typology_des' = Tipo_proyecto,
'description' = Descripcion,
'qualification_date' = Fecha_Calificado) %>%
select(name,type,region,owner,typology,typology_des,investment,entry_date,state,qualification_date,id_project,latitude,longitude,n_docs,n_addendum,n_participatory,description,main_url)
View(Tabla_general)
#Imprimir Tabla resultante
write.csv2(Tabla_general,"Tabla General.csv",row.names = FALSE)
